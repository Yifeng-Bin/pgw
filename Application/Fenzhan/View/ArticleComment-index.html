<extend name="Public/base" /><block name="main">        <h1 class="page-header">文章评论列表</h1>        <div class="row well-sm">            <div class="col-sm-9 form-inline">                <label class="control-label">筛选：</label>                <foreach name="filter.fields_name" item="name">                    <if condition="$name.type eq 'input'">                        <input class="form-control input-sm" type="text" name="search_{$key}" value='{$filter['fields_value'][$key]}' placeholder="{$name.desc}" />                    <elseif condition="$name.type eq 'select'"/>                    <select name="search_{$key}" class="form-control input-sm">                        <foreach name="name.values" key="key1" item="value" >                            <option value="{$key1}" <if condition="$filter['fields_value'][$key] eq $key1">selected="selected"</if>>{$value}</option>                        </foreach>                                            </select>                    </if>                </foreach>                <label>排序：</label>                <select id="orderby" class="form-control input-sm">                <foreach name="filter.order.fields" item="name" >                    <option value="{$key}" <if condition="$filter['order']['orderby'] eq $key">selected="selected"</if>>{$name}</option>                </foreach>                                    </select>                <select id="sortby" class="form-control input-sm">                    <option value="DESC" <if condition="$filter['order']['sortby'] eq 'desc'">selected="selected"</if>>降序</option>                    <option value="ASC" <if condition="$filter['order']['sortby'] eq 'asc'">selected="selected"</if>>升序</option>                </select>                <button class="btn btn-default btn-sm" onClick="submit_filter()">确认</button>            </div>        </div>                        <table class="table table-striped">            <thead>                <tr>                    <th><input id="check_all" type="checkbox">全选</th>                    <th>标题</th>                    <th>评论内容</th>                                        <th>分类</th>                    <th>评论时间</th>                    <th>审核状态</th>                    <th>ip</th>                                        <th>管理</th>                </tr>            </thead>            <tbody>            <foreach name="commentList" item="commentInfo" >                <tr>                    <td scope="row"><input type="hidden" value="{$commentInfo['comment_id']}"><input type="checkbox" name="comment_ids[]" value="{$commentInfo['comment_id']}">#{$commentInfo['comment_id']}</td>                    <td>{$commentInfo['article_name']|htmlspecialchars}</td>                    <td>{$commentInfo['content']|htmlspecialchars|subtext=60}</td>                                        <td>{$commentInfo['cat_name']|htmlspecialchars}</td>                    <td>{$commentInfo['add_time']}</td>                    <td><if condition="$commentInfo['is_checked'] eq 0"><b style="color:red;">未审核</b><else />已审核</if></td>                    <td>{$commentInfo['ip']}</td>                                        <td>                    	<a class="btn btn-default btn-sm" href="{:U('ArticleComment/edit',array('comment_id'=>$commentInfo['comment_id']))}">查看修改</a>                    	                    	<button class="btn btn-default btn-sm" onClick="del_comment({$commentInfo['comment_id']});">删除</a>                    </td>                </tr>            </foreach>            </tbody>        </table>        <button class="btn btn-default btn-sm" onClick="submit_comment_status(1);">审核</button>        <button class="btn btn-default btn-sm" onClick="submit_comment_status(0);">取消审核</button>        <div id="page" class="m-pagination"></div>            <form id="submitForm" action="{:U('ArticleComment/index')}" method="get">                <foreach name="filter.fields_value" item="value" >                    <input type="hidden" name="filter_{$key}" value="{$value}" />                </foreach>                 <input type="hidden" name="orderby" value="{$filter.order.orderby}" />            <input type="hidden" name="sortby" value="{$filter.order.sortby}" />                        <input type="hidden" name="p" value="{$pageInfo.nowPage}" />        </form></block><block name="css-style">    <link href="__STATICS__/css/jquery.pagination.css" rel="stylesheet"></block><block name="js-input">    <script src="__STATICS__/js/jquery.pagination-1.2.7.min.js"></script>        <script type="text/javascript">      //删除回答    function del_comment(comment_id)    {        if(confirm("确认删除该评论吗？")){            var post_url = '{:U('ArticleComment/del')}';            var data = {};            data.comment_id = comment_id;            $.post(post_url, data,              function(result) {                if(result.status == 0){                    alert(result.info);                }else{                    $("#submitForm").submit();                }            },'json');        }                }        $("#check_all").click(function(){            if(this.checked){                $("input[name='comment_ids[]']").prop("checked", true);            }else{                $("input[name='comment_ids[]']").prop("checked", false);            }        });                        function submit_comment_status(status)        {            var post_url = "{:U('ArticleComment/changeCommentStatus')}";            var data = {};            data.comment_ids = new Array();            data.status = status;            $("input[name='comment_ids[]']:checked").each(function(){                data.comment_ids.push($(this).val());            })            if(data.comment_ids.length == 0){                alert('请至少选择一个评论后再进行提交！');                return false;            }            $.post(post_url, data,              function(result) {                if(result.status == 0){                    alert(result.info);                }else{                    $("#submitForm").submit();                }              },'json');        }                 function submit_filter()        {            $("[name^='search_']").each(function() {                var search_name = $(this).prop("name");                var filter_name = 'filter_' + search_name.substr(7);               $("input[name='"+filter_name+"']").val($(this).val());             });            $("input[name='orderby']").val($("#orderby").val());            $("input[name='sortby']").val($("#sortby").val());            $("input[name='p']").val(1);            $("#submitForm").submit();        }                                function chanage_page(page)                        {                            $("#submitForm").find("input[name='p']").val(page);                                $("#submitForm").submit();                        }                        $("#page").page({                        total: {$pageInfo.totalRows},                                pageSize: {$pageInfo.listRows},                                pageIndex: {$pageInfo['nowPage'] - 1},                                showInfo: true,                                showJump: true,                                loadFirstPage: false,                                infoFormat: '第{start} - {end}条，共{total}条',                        }).on("pageClicked", function (event, pageIndex) {                        chanage_page(pageIndex + 1);                        }).on('jumpClicked', function (event, pageIndex) {                        chanage_page(pageIndex + 1);                        });    </script></block><extend name="Public/base" /><block name="main">        <h1 class="page-header">文章评论列表</h1>        <div class="row well-sm">            <div class="col-sm-9 form-inline">                <label class="control-label">筛选：</label>                <foreach name="filter.fields_name" item="name">                    <if condition="$name.type eq 'input'">                        <input class="form-control input-sm" type="text" name="search_{$key}" value='{$filter['fields_value'][$key]}' placeholder="{$name.desc}" />                    <elseif condition="$name.type eq 'select'"/>                    <select name="search_{$key}" class="form-control input-sm">                        <foreach name="name.values" key="key1" item="value" >                            <option value="{$key1}" <if condition="$filter['fields_value'][$key] eq $key1">selected="selected"</if>>{$value}</option>                        </foreach>                                            </select>                    </if>                </foreach>                <label>排序：</label>                <select id="orderby" class="form-control input-sm">                <foreach name="filter.order.fields" item="name" >                    <option value="{$key}" <if condition="$filter['order']['orderby'] eq $key">selected="selected"</if>>{$name}</option>                </foreach>                                    </select>                <select id="sortby" class="form-control input-sm">                    <option value="DESC" <if condition="$filter['order']['sortby'] eq 'desc'">selected="selected"</if>>降序</option>                    <option value="ASC" <if condition="$filter['order']['sortby'] eq 'asc'">selected="selected"</if>>升序</option>                </select>                <button class="btn btn-default btn-sm" onClick="submit_filter()">确认</button>            </div>        </div>                        <table class="table table-striped">            <thead>                <tr>                    <th><input id="check_all" type="checkbox">全选</th>                    <th>标题</th>                    <th>评论内容</th>                                        <th>分类</th>                    <th>评论时间</th>                    <th>审核状态</th>                    <th>ip</th>                                        <th>管理</th>                </tr>            </thead>            <tbody>            <foreach name="commentList" item="commentInfo" >                <tr>                    <td scope="row"><input type="hidden" value="{$commentInfo['comment_id']}"><input type="checkbox" name="comment_ids[]" value="{$commentInfo['comment_id']}">#{$commentInfo['comment_id']}</td>                    <td>{$commentInfo['article_name']|htmlspecialchars}</td>                    <td>{$commentInfo['content']|htmlspecialchars|subtext=60}</td>                                        <td>{$commentInfo['cat_name']|htmlspecialchars}</td>                    <td>{$commentInfo['add_time']}</td>                    <td><if condition="$commentInfo['is_checked'] eq 0"><b style="color:red;">未审核</b><else />已审核</if></td>                    <td>{$commentInfo['ip']}</td>                                        <td>                    	<a class="btn btn-default btn-sm" href="{:U('ArticleComment/edit',array('comment_id'=>$commentInfo['comment_id']))}">查看修改</a>                    	                    	<button class="btn btn-default btn-sm" onClick="del_comment({$commentInfo['comment_id']});">删除</a>                    </td>                </tr>            </foreach>            </tbody>        </table>        <button class="btn btn-default btn-sm" onClick="submit_comment_status(1);">审核</button>        <button class="btn btn-default btn-sm" onClick="submit_comment_status(0);">取消审核</button>        <div id="page" class="m-pagination"></div>            <form id="submitForm" action="{:U('ArticleComment/index')}" method="get">                <foreach name="filter.fields_value" item="value" >                    <input type="hidden" name="filter_{$key}" value="{$value}" />                </foreach>                 <input type="hidden" name="orderby" value="{$filter.order.orderby}" />            <input type="hidden" name="sortby" value="{$filter.order.sortby}" />                        <input type="hidden" name="p" value="{$pageInfo.nowPage}" />        </form></block><block name="css-style">    <link href="__STATICS__/css/jquery.pagination.css" rel="stylesheet"></block><block name="js-input">    <script src="__STATICS__/js/jquery.pagination-1.2.7.min.js"></script>        <script type="text/javascript">      //删除回答    function del_comment(comment_id)    {        if(confirm("确认删除该评论吗？")){            var post_url = '{:U('ArticleComment/del')}';            var data = {};            data.comment_id = comment_id;            $.post(post_url, data,              function(result) {                if(result.status == 0){                    alert(result.info);                }else{                    $("#submitForm").submit();                }            },'json');        }                }        $("#check_all").click(function(){            if(this.checked){                $("input[name='comment_ids[]']").prop("checked", true);            }else{                $("input[name='comment_ids[]']").prop("checked", false);            }        });                        function submit_comment_status(status)        {            var post_url = "{:U('ArticleComment/changeCommentStatus')}";            var data = {};            data.comment_ids = new Array();            data.status = status;            $("input[name='comment_ids[]']:checked").each(function(){                data.comment_ids.push($(this).val());            })            if(data.comment_ids.length == 0){                alert('请至少选择一个评论后再进行提交！');                return false;            }            $.post(post_url, data,              function(result) {                if(result.status == 0){                    alert(result.info);                }else{                    $("#submitForm").submit();                }              },'json');        }                 function submit_filter()        {            $("[name^='search_']").each(function() {                var search_name = $(this).prop("name");                var filter_name = 'filter_' + search_name.substr(7);               $("input[name='"+filter_name+"']").val($(this).val());             });            $("input[name='orderby']").val($("#orderby").val());            $("input[name='sortby']").val($("#sortby").val());            $("input[name='p']").val(1);            $("#submitForm").submit();        }                                function chanage_page(page)                        {                            $("#submitForm").find("input[name='p']").val(page);                                $("#submitForm").submit();                        }                        $("#page").page({                        total: {$pageInfo.totalRows},                                pageSize: {$pageInfo.listRows},                                pageIndex: {$pageInfo['nowPage'] - 1},                                showInfo: true,                                showJump: true,                                loadFirstPage: false,                                infoFormat: '第{start} - {end}条，共{total}条',                        }).on("pageClicked", function (event, pageIndex) {                        chanage_page(pageIndex + 1);                        }).on('jumpClicked', function (event, pageIndex) {                        chanage_page(pageIndex + 1);                        });    </script></block><extend name="Public/base" /><block name="main">        <h1 class="page-header">文章评论列表</h1>        <div class="row well-sm">            <div class="col-sm-9 form-inline">                <label class="control-label">筛选：</label>                <foreach name="filter.fields_name" item="name">                    <if condition="$name.type eq 'input'">                        <input class="form-control input-sm" type="text" name="search_{$key}" value='{$filter['fields_value'][$key]}' placeholder="{$name.desc}" />                    <elseif condition="$name.type eq 'select'"/>                    <select name="search_{$key}" class="form-control input-sm">                        <foreach name="name.values" key="key1" item="value" >                            <option value="{$key1}" <if condition="$filter['fields_value'][$key] eq $key1">selected="selected"</if>>{$value}</option>                        </foreach>                                            </select>                    </if>                </foreach>                <label>排序：</label>                <select id="orderby" class="form-control input-sm">                <foreach name="filter.order.fields" item="name" >                    <option value="{$key}" <if condition="$filter['order']['orderby'] eq $key">selected="selected"</if>>{$name}</option>                </foreach>                                    </select>                <select id="sortby" class="form-control input-sm">                    <option value="DESC" <if condition="$filter['order']['sortby'] eq 'desc'">selected="selected"</if>>降序</option>                    <option value="ASC" <if condition="$filter['order']['sortby'] eq 'asc'">selected="selected"</if>>升序</option>                </select>                <button class="btn btn-default btn-sm" onClick="submit_filter()">确认</button>            </div>        </div>                        <table class="table table-striped">            <thead>                <tr>                    <th><input id="check_all" type="checkbox">全选</th>                    <th>标题</th>                    <th>评论内容</th>                                        <th>分类</th>                    <th>评论时间</th>                    <th>审核状态</th>                    <th>ip</th>                                        <th>管理</th>                </tr>            </thead>            <tbody>            <foreach name="commentList" item="commentInfo" >                <tr>                    <td scope="row"><input type="hidden" value="{$commentInfo['comment_id']}"><input type="checkbox" name="comment_ids[]" value="{$commentInfo['comment_id']}">#{$commentInfo['comment_id']}</td>                    <td>{$commentInfo['article_name']|htmlspecialchars}</td>                    <td>{$commentInfo['content']|htmlspecialchars|subtext=60}</td>                                        <td>{$commentInfo['cat_name']|htmlspecialchars}</td>                    <td>{$commentInfo['add_time']}</td>                    <td><if condition="$commentInfo['is_checked'] eq 0"><b style="color:red;">未审核</b><else />已审核</if></td>                    <td>{$commentInfo['ip']}</td>                                        <td>                    	<a class="btn btn-default btn-sm" href="{:U('ArticleComment/edit',array('comment_id'=>$commentInfo['comment_id']))}">查看修改</a>                    	                    	<button class="btn btn-default btn-sm" onClick="del_comment({$commentInfo['comment_id']});">删除</a>                    </td>                </tr>            </foreach>            </tbody>        </table>        <button class="btn btn-default btn-sm" onClick="submit_comment_status(1);">审核</button>        <button class="btn btn-default btn-sm" onClick="submit_comment_status(0);">取消审核</button>        <div id="page" class="m-pagination"></div>            <form id="submitForm" action="{:U('ArticleComment/index')}" method="get">                <foreach name="filter.fields_value" item="value" >                    <input type="hidden" name="filter_{$key}" value="{$value}" />                </foreach>                 <input type="hidden" name="orderby" value="{$filter.order.orderby}" />            <input type="hidden" name="sortby" value="{$filter.order.sortby}" />                        <input type="hidden" name="p" value="{$pageInfo.nowPage}" />        </form></block><block name="css-style">    <link href="__STATICS__/css/jquery.pagination.css" rel="stylesheet"></block><block name="js-input">    <script src="__STATICS__/js/jquery.pagination-1.2.7.min.js"></script>        <script type="text/javascript">      //删除回答    function del_comment(comment_id)    {        if(confirm("确认删除该评论吗？")){            var post_url = '{:U('ArticleComment/del')}';            var data = {};            data.comment_id = comment_id;            $.post(post_url, data,              function(result) {                if(result.status == 0){                    alert(result.info);                }else{                    $("#submitForm").submit();                }            },'json');        }                }        $("#check_all").click(function(){            if(this.checked){                $("input[name='comment_ids[]']").prop("checked", true);            }else{                $("input[name='comment_ids[]']").prop("checked", false);            }        });                        function submit_comment_status(status)        {            var post_url = "{:U('ArticleComment/changeCommentStatus')}";            var data = {};            data.comment_ids = new Array();            data.status = status;            $("input[name='comment_ids[]']:checked").each(function(){                data.comment_ids.push($(this).val());            })            if(data.comment_ids.length == 0){                alert('请至少选择一个评论后再进行提交！');                return false;            }            $.post(post_url, data,              function(result) {                if(result.status == 0){                    alert(result.info);                }else{                    $("#submitForm").submit();                }              },'json');        }                 function submit_filter()        {            $("[name^='search_']").each(function() {                var search_name = $(this).prop("name");                var filter_name = 'filter_' + search_name.substr(7);               $("input[name='"+filter_name+"']").val($(this).val());             });            $("input[name='orderby']").val($("#orderby").val());            $("input[name='sortby']").val($("#sortby").val());            $("input[name='p']").val(1);            $("#submitForm").submit();        }                                function chanage_page(page)                        {                            $("#submitForm").find("input[name='p']").val(page);                                $("#submitForm").submit();                        }                        $("#page").page({                        total: {$pageInfo.totalRows},                                pageSize: {$pageInfo.listRows},                                pageIndex: {$pageInfo['nowPage'] - 1},                                showInfo: true,                                showJump: true,                                loadFirstPage: false,                                infoFormat: '第{start} - {end}条，共{total}条',                        }).on("pageClicked", function (event, pageIndex) {                        chanage_page(pageIndex + 1);                        }).on('jumpClicked', function (event, pageIndex) {                        chanage_page(pageIndex + 1);                        });    </script></block>